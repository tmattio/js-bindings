[@@@js.dummy "!! This code has been generated by gen_js_api !!"]
[@@@ocaml.warning "-7-32-39"]
[@@@ocaml.warning "-7-11-32-33-39"]
open Es5
module ProvideDeclarationSignature =
  struct
    type t = Ojs.t
    let rec t_of_js : Ojs.t -> t = fun (x2 : Ojs.t) -> x2
    and t_to_js : t -> Ojs.t = fun (x1 : Ojs.t) -> x1
    let (apply :
      t ->
        this:unit ->
          document:TextDocument.t ->
            position:VPosition.t ->
              token:CancellationToken.t -> VDeclaration.t ProviderResult.t)
      =
      fun (x7 : t) ->
        fun ~this:(x3 : unit) ->
          fun ~document:(x4 : TextDocument.t) ->
            fun ~position:(x5 : VPosition.t) ->
              fun ~token:(x6 : CancellationToken.t) ->
                ProviderResult.t_of_js VDeclaration.t_of_js
                  (Ojs.apply (t_to_js x7)
                     [|(Ojs.unit_to_js x3);(TextDocument.t_to_js x4);(
                       VPosition.t_to_js x5);(CancellationToken.t_to_js x6)|])
  end
module DeclarationMiddleware =
  struct
    type t = Ojs.t
    let rec t_of_js : Ojs.t -> t = fun (x10 : Ojs.t) -> x10
    and t_to_js : t -> Ojs.t = fun (x9 : Ojs.t) -> x9
    let (provide_declaration :
      t ->
        this:unit ->
          document:TextDocument.t ->
            position:VPosition.t ->
              token:CancellationToken.t ->
                next:ProvideDeclarationSignature.t ->
                  VDeclaration.t ProviderResult.t)
      =
      fun (x16 : t) ->
        fun ~this:(x11 : unit) ->
          fun ~document:(x12 : TextDocument.t) ->
            fun ~position:(x13 : VPosition.t) ->
              fun ~token:(x14 : CancellationToken.t) ->
                fun ~next:(x15 : ProvideDeclarationSignature.t) ->
                  ProviderResult.t_of_js VDeclaration.t_of_js
                    (Ojs.call (t_to_js x16) "provideDeclaration"
                       [|(Ojs.unit_to_js x11);(TextDocument.t_to_js x12);(
                         VPosition.t_to_js x13);(CancellationToken.t_to_js
                                                   x14);(ProvideDeclarationSignature.t_to_js
                                                           x15)|])
  end
module DeclarationFeature =
  struct
    type t = Ojs.t
    let rec t_of_js : Ojs.t -> t = fun (x19 : Ojs.t) -> x19
    and t_to_js : t -> Ojs.t = fun (x18 : Ojs.t) -> x18
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x20 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj (Ojs.get_prop_ascii Ojs.global "DeclarationFeature")
             [|(BaseLanguageClient.t_to_js x20)|])
    let (fill_client_capabilities :
      t -> capabilities:ClientCapabilities.t -> unit) =
      fun (x22 : t) ->
        fun ~capabilities:(x21 : ClientCapabilities.t) ->
          ignore
            (Ojs.call (t_to_js x22) "fillClientCapabilities"
               [|(ClientCapabilities.t_to_js x21)|])
    let (initialize :
      t ->
        capabilities:ServerCapabilities.t ->
          document_selector:DocumentSelector.t -> unit)
      =
      fun (x25 : t) ->
        fun ~capabilities:(x23 : ServerCapabilities.t) ->
          fun ~document_selector:(x24 : DocumentSelector.t) ->
            ignore
              (Ojs.call (t_to_js x25) "initialize"
                 [|(ServerCapabilities.t_to_js x23);(DocumentSelector.t_to_js
                                                       x24)|])
    let (register_language_provider :
      t ->
        options:DeclarationRegistrationOptions.t ->
          (Disposable.t * DeclarationProvider.t))
      =
      fun (x27 : t) ->
        fun ~options:(x26 : DeclarationRegistrationOptions.t) ->
          let x28 =
            Ojs.call (t_to_js x27) "registerLanguageProvider"
              [|(DeclarationRegistrationOptions.t_to_js x26)|] in
          ((Disposable.t_of_js (Ojs.array_get x28 0)),
            (DeclarationProvider.t_of_js (Ojs.array_get x28 1)))
    let (cast :
      t ->
        (DeclarationOptions.t or_boolean, DeclarationRegistrationOptions.t,
          DeclarationProvider.t) TextDocumentFeature.t)
      =
      fun (x29 : t) ->
        TextDocumentFeature.t_of_js
          (fun (x30 : Ojs.t) ->
             or_boolean_of_js DeclarationOptions.t_of_js x30)
          DeclarationRegistrationOptions.t_of_js DeclarationProvider.t_of_js
          (t_to_js x29)
  end
