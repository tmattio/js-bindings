[@@@js.dummy "!! This code has been generated by gen_js_api !!"]
[@@@ocaml.warning "-7-32-39"]
[@@@ocaml.warning "-7-11-32-33-39"]
open Es5
module Internal =
  struct
    module AnonymousInterfaces =
      struct
        type anonymous_interface_0 = [ `anonymous_interface_0 ] intf
        let rec anonymous_interface_0_of_js : Ojs.t -> anonymous_interface_0
          = Obj.magic
        and anonymous_interface_0_to_js : anonymous_interface_0 -> Ojs.t =
          Obj.magic
        type anonymous_interface_1 = [ `anonymous_interface_1 ] intf
        let rec anonymous_interface_1_of_js : Ojs.t -> anonymous_interface_1
          = Obj.magic
        and anonymous_interface_1_to_js : anonymous_interface_1 -> Ojs.t =
          Obj.magic
      end
    module Types =
      struct
        open AnonymousInterfaces
        type _DidCreateFilesFeature =
          [ `DidCreateFilesFeature 
          | `FileOperationFeature of (Code.Uri.t * Code.FileCreateEvent.t) 
          | `NotificationFileOperationFeature of
              (Code.Uri.t * Code.FileCreateEvent.t *
                Proto.CreateFilesParams.t)
              ]
            intf
        and _DidDeleteFilesFeature =
          [ `DidDeleteFilesFeature 
          | `FileOperationFeature of (Code.Uri.t * Code.FileDeleteEvent.t) 
          | `NotificationFileOperationFeature of
              (Code.Uri.t * Code.FileDeleteEvent.t *
                Proto.DeleteFilesParams.t)
              ]
            intf
        and _DidRenameFilesFeature =
          [ `DidRenameFilesFeature 
          | `FileOperationFeature of
              (anonymous_interface_1 * Code.FileRenameEvent.t) 
          | `NotificationFileOperationFeature of
              (anonymous_interface_1 * Code.FileRenameEvent.t *
                Proto.RenameFilesParams.t)
              ]
            intf
        and 'I _Event = [ `Event of 'I ] intf
        and ('I, 'E) _FileOperationFeature =
          [ `FileOperationFeature of ('I * 'E) ] intf
        and _FileOperationsMiddleware = [ `FileOperationsMiddleware ] intf
        and ('I, 'E, 'P) _NotificationFileOperationFeature =
          [ `NotificationFileOperationFeature of ('I * 'E * 'P) 
          | `FileOperationFeature of ('I * 'E) ] intf
        and 'I _RequestEvent = [ `RequestEvent of 'I ] intf
        and ('I, 'E, 'P) _RequestFileOperationFeature =
          [ `RequestFileOperationFeature of ('I * 'E * 'P) 
          | `FileOperationFeature of ('I * 'E) ] intf
        and _WillCreateFilesFeature =
          [ `WillCreateFilesFeature 
          | `FileOperationFeature of
              (Code.Uri.t * Code.FileWillCreateEvent.t) 
          | `RequestFileOperationFeature of
              (Code.Uri.t * Code.FileWillCreateEvent.t *
                Proto.CreateFilesParams.t)
              ]
            intf
        and _WillDeleteFilesFeature =
          [ `WillDeleteFilesFeature 
          | `FileOperationFeature of
              (Code.Uri.t * Code.FileWillDeleteEvent.t) 
          | `RequestFileOperationFeature of
              (Code.Uri.t * Code.FileWillDeleteEvent.t *
                Proto.DeleteFilesParams.t)
              ]
            intf
        and _WillRenameFilesFeature =
          [ `WillRenameFilesFeature 
          | `FileOperationFeature of
              (anonymous_interface_1 * Code.FileWillRenameEvent.t) 
          | `RequestFileOperationFeature of
              (anonymous_interface_1 * Code.FileWillRenameEvent.t *
                Proto.RenameFilesParams.t)
              ]
            intf
        let rec _DidCreateFilesFeature_of_js :
          Ojs.t -> _DidCreateFilesFeature = Obj.magic
        and _DidCreateFilesFeature_to_js : _DidCreateFilesFeature -> Ojs.t =
          Obj.magic
        and _DidDeleteFilesFeature_of_js : Ojs.t -> _DidDeleteFilesFeature =
          Obj.magic
        and _DidDeleteFilesFeature_to_js : _DidDeleteFilesFeature -> Ojs.t =
          Obj.magic
        and _DidRenameFilesFeature_of_js : Ojs.t -> _DidRenameFilesFeature =
          Obj.magic
        and _DidRenameFilesFeature_to_js : _DidRenameFilesFeature -> Ojs.t =
          Obj.magic
        and _Event_of_js : 'I . (Ojs.t -> 'I) -> Ojs.t -> 'I _Event =
          fun _I -> Obj.magic
        and _Event_to_js : 'I . ('I -> Ojs.t) -> 'I _Event -> Ojs.t =
          fun _I -> Obj.magic
        and _FileOperationFeature_of_js :
          'I 'E .
            (Ojs.t -> 'I) ->
              (Ojs.t -> 'E) -> Ojs.t -> ('I, 'E) _FileOperationFeature
          = fun _I -> fun _E -> Obj.magic
        and _FileOperationFeature_to_js :
          'I 'E .
            ('I -> Ojs.t) ->
              ('E -> Ojs.t) -> ('I, 'E) _FileOperationFeature -> Ojs.t
          = fun _I -> fun _E -> Obj.magic
        and _FileOperationsMiddleware_of_js :
          Ojs.t -> _FileOperationsMiddleware = Obj.magic
        and _FileOperationsMiddleware_to_js :
          _FileOperationsMiddleware -> Ojs.t = Obj.magic
        and _NotificationFileOperationFeature_of_js :
          'I 'E 'P .
            (Ojs.t -> 'I) ->
              (Ojs.t -> 'E) ->
                (Ojs.t -> 'P) ->
                  Ojs.t -> ('I, 'E, 'P) _NotificationFileOperationFeature
          = fun _I -> fun _E -> fun _P -> Obj.magic
        and _NotificationFileOperationFeature_to_js :
          'I 'E 'P .
            ('I -> Ojs.t) ->
              ('E -> Ojs.t) ->
                ('P -> Ojs.t) ->
                  ('I, 'E, 'P) _NotificationFileOperationFeature -> Ojs.t
          = fun _I -> fun _E -> fun _P -> Obj.magic
        and _RequestEvent_of_js :
          'I . (Ojs.t -> 'I) -> Ojs.t -> 'I _RequestEvent =
          fun _I -> Obj.magic
        and _RequestEvent_to_js :
          'I . ('I -> Ojs.t) -> 'I _RequestEvent -> Ojs.t =
          fun _I -> Obj.magic
        and _RequestFileOperationFeature_of_js :
          'I 'E 'P .
            (Ojs.t -> 'I) ->
              (Ojs.t -> 'E) ->
                (Ojs.t -> 'P) ->
                  Ojs.t -> ('I, 'E, 'P) _RequestFileOperationFeature
          = fun _I -> fun _E -> fun _P -> Obj.magic
        and _RequestFileOperationFeature_to_js :
          'I 'E 'P .
            ('I -> Ojs.t) ->
              ('E -> Ojs.t) ->
                ('P -> Ojs.t) ->
                  ('I, 'E, 'P) _RequestFileOperationFeature -> Ojs.t
          = fun _I -> fun _E -> fun _P -> Obj.magic
        and _WillCreateFilesFeature_of_js : Ojs.t -> _WillCreateFilesFeature
          = Obj.magic
        and _WillCreateFilesFeature_to_js : _WillCreateFilesFeature -> Ojs.t
          = Obj.magic
        and _WillDeleteFilesFeature_of_js : Ojs.t -> _WillDeleteFilesFeature
          = Obj.magic
        and _WillDeleteFilesFeature_to_js : _WillDeleteFilesFeature -> Ojs.t
          = Obj.magic
        and _WillRenameFilesFeature_of_js : Ojs.t -> _WillRenameFilesFeature
          = Obj.magic
        and _WillRenameFilesFeature_to_js : _WillRenameFilesFeature -> Ojs.t
          = Obj.magic
      end
  end
open Internal
open AnonymousInterfaces
open Types
module AnonymousInterface0 =
  struct
    type t = anonymous_interface_0
    let rec t_of_js : Ojs.t -> t =
      fun (x2 : Ojs.t) -> anonymous_interface_0_of_js x2
    and t_to_js : t -> Ojs.t =
      fun (x1 : anonymous_interface_0) -> anonymous_interface_0_to_js x1
    let (get_files : t -> 'I list) =
      fun (x3 : t) ->
        Ojs.list_of_js Obj.magic (Ojs.get_prop_ascii (t_to_js x3) "files")
  end
module AnonymousInterface1 =
  struct
    type t = anonymous_interface_1
    let rec t_of_js : Ojs.t -> t =
      fun (x6 : Ojs.t) -> anonymous_interface_1_of_js x6
    and t_to_js : t -> Ojs.t =
      fun (x5 : anonymous_interface_1) -> anonymous_interface_1_to_js x5
    let (get_oldUri : t -> Code.Uri.t) =
      fun (x7 : t) ->
        Code.Uri.t_of_js (Ojs.get_prop_ascii (t_to_js x7) "oldUri")
    let (set_oldUri : t -> Code.Uri.t -> unit) =
      fun (x8 : t) ->
        fun (x9 : Code.Uri.t) ->
          Ojs.set_prop_ascii (t_to_js x8) "oldUri" (Code.Uri.t_to_js x9)
    let (get_newUri : t -> Code.Uri.t) =
      fun (x10 : t) ->
        Code.Uri.t_of_js (Ojs.get_prop_ascii (t_to_js x10) "newUri")
    let (set_newUri : t -> Code.Uri.t -> unit) =
      fun (x11 : t) ->
        fun (x12 : Code.Uri.t) ->
          Ojs.set_prop_ascii (t_to_js x11) "newUri" (Code.Uri.t_to_js x12)
  end
module FileOperationsMiddleware =
  struct
    type t = _FileOperationsMiddleware
    let rec t_of_js : Ojs.t -> t =
      fun (x14 : Ojs.t) -> _FileOperationsMiddleware_of_js x14
    and t_to_js : t -> Ojs.t =
      fun (x13 : _FileOperationsMiddleware) ->
        _FileOperationsMiddleware_to_js x13
    let (get_didCreateFiles :
      t -> (Code.FileCreateEvent.t, unit) NextSignature.t) =
      fun (x15 : t) ->
        NextSignature.t_of_js Code.FileCreateEvent.t_of_js Ojs.unit_of_js
          (Ojs.get_prop_ascii (t_to_js x15) "didCreateFiles")
    let (set_didCreateFiles :
      t -> (Code.FileCreateEvent.t, unit) NextSignature.t -> unit) =
      fun (x18 : t) ->
        fun (x19 : (Code.FileCreateEvent.t, unit) NextSignature.t) ->
          Ojs.set_prop_ascii (t_to_js x18) "didCreateFiles"
            (NextSignature.t_to_js Code.FileCreateEvent.t_to_js
               Ojs.unit_to_js x19)
    let (get_willCreateFiles :
      t ->
        (Code.FileCreateEvent.t,
          Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
          NextSignature.t)
      =
      fun (x22 : t) ->
        NextSignature.t_of_js Code.FileCreateEvent.t_of_js
          (fun (x24 : Ojs.t) ->
             Promise.t_of_js
               (fun (x25 : Ojs.t) ->
                  or_null_or_undefined_of_js Code.WorkspaceEdit.t_of_js x25)
               x24) (Ojs.get_prop_ascii (t_to_js x22) "willCreateFiles")
    let (set_willCreateFiles :
      t ->
        (Code.FileCreateEvent.t,
          Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
          NextSignature.t -> unit)
      =
      fun (x27 : t) ->
        fun
          (x28 :
            (Code.FileCreateEvent.t,
              Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
              NextSignature.t)
          ->
          Ojs.set_prop_ascii (t_to_js x27) "willCreateFiles"
            (NextSignature.t_to_js Code.FileCreateEvent.t_to_js
               (fun
                  (x30 : Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
                  ->
                  Promise.t_to_js
                    (fun (x31 : Code.WorkspaceEdit.t or_null_or_undefined) ->
                       or_null_or_undefined_to_js Code.WorkspaceEdit.t_to_js
                         x31) x30) x28)
    let (get_didRenameFiles :
      t -> (Code.FileRenameEvent.t, unit) NextSignature.t) =
      fun (x33 : t) ->
        NextSignature.t_of_js Code.FileRenameEvent.t_of_js Ojs.unit_of_js
          (Ojs.get_prop_ascii (t_to_js x33) "didRenameFiles")
    let (set_didRenameFiles :
      t -> (Code.FileRenameEvent.t, unit) NextSignature.t -> unit) =
      fun (x36 : t) ->
        fun (x37 : (Code.FileRenameEvent.t, unit) NextSignature.t) ->
          Ojs.set_prop_ascii (t_to_js x36) "didRenameFiles"
            (NextSignature.t_to_js Code.FileRenameEvent.t_to_js
               Ojs.unit_to_js x37)
    let (get_willRenameFiles :
      t ->
        (Code.FileRenameEvent.t,
          Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
          NextSignature.t)
      =
      fun (x40 : t) ->
        NextSignature.t_of_js Code.FileRenameEvent.t_of_js
          (fun (x42 : Ojs.t) ->
             Promise.t_of_js
               (fun (x43 : Ojs.t) ->
                  or_null_or_undefined_of_js Code.WorkspaceEdit.t_of_js x43)
               x42) (Ojs.get_prop_ascii (t_to_js x40) "willRenameFiles")
    let (set_willRenameFiles :
      t ->
        (Code.FileRenameEvent.t,
          Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
          NextSignature.t -> unit)
      =
      fun (x45 : t) ->
        fun
          (x46 :
            (Code.FileRenameEvent.t,
              Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
              NextSignature.t)
          ->
          Ojs.set_prop_ascii (t_to_js x45) "willRenameFiles"
            (NextSignature.t_to_js Code.FileRenameEvent.t_to_js
               (fun
                  (x48 : Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
                  ->
                  Promise.t_to_js
                    (fun (x49 : Code.WorkspaceEdit.t or_null_or_undefined) ->
                       or_null_or_undefined_to_js Code.WorkspaceEdit.t_to_js
                         x49) x48) x46)
    let (get_didDeleteFiles :
      t -> (Code.FileDeleteEvent.t, unit) NextSignature.t) =
      fun (x51 : t) ->
        NextSignature.t_of_js Code.FileDeleteEvent.t_of_js Ojs.unit_of_js
          (Ojs.get_prop_ascii (t_to_js x51) "didDeleteFiles")
    let (set_didDeleteFiles :
      t -> (Code.FileDeleteEvent.t, unit) NextSignature.t -> unit) =
      fun (x54 : t) ->
        fun (x55 : (Code.FileDeleteEvent.t, unit) NextSignature.t) ->
          Ojs.set_prop_ascii (t_to_js x54) "didDeleteFiles"
            (NextSignature.t_to_js Code.FileDeleteEvent.t_to_js
               Ojs.unit_to_js x55)
    let (get_willDeleteFiles :
      t ->
        (Code.FileDeleteEvent.t,
          Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
          NextSignature.t)
      =
      fun (x58 : t) ->
        NextSignature.t_of_js Code.FileDeleteEvent.t_of_js
          (fun (x60 : Ojs.t) ->
             Promise.t_of_js
               (fun (x61 : Ojs.t) ->
                  or_null_or_undefined_of_js Code.WorkspaceEdit.t_of_js x61)
               x60) (Ojs.get_prop_ascii (t_to_js x58) "willDeleteFiles")
    let (set_willDeleteFiles :
      t ->
        (Code.FileDeleteEvent.t,
          Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
          NextSignature.t -> unit)
      =
      fun (x63 : t) ->
        fun
          (x64 :
            (Code.FileDeleteEvent.t,
              Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
              NextSignature.t)
          ->
          Ojs.set_prop_ascii (t_to_js x63) "willDeleteFiles"
            (NextSignature.t_to_js Code.FileDeleteEvent.t_to_js
               (fun
                  (x66 : Code.WorkspaceEdit.t or_null_or_undefined Promise.t)
                  ->
                  Promise.t_to_js
                    (fun (x67 : Code.WorkspaceEdit.t or_null_or_undefined) ->
                       or_null_or_undefined_to_js Code.WorkspaceEdit.t_to_js
                         x67) x66) x64)
  end
module Event =
  struct
    type 'I t = 'I _Event
    let rec t_of_js : 'I . (Ojs.t -> 'I) -> Ojs.t -> 'I t = fun (type __I) ->
      fun (__I_of_js : Ojs.t -> __I) ->
        fun (x71 : Ojs.t) -> _Event_of_js __I_of_js x71
    and t_to_js : 'I . ('I -> Ojs.t) -> 'I t -> Ojs.t = fun (type __I) ->
      fun (__I_to_js : __I -> Ojs.t) ->
        fun (x69 : __I _Event) -> _Event_to_js __I_to_js x69
    let (get_files : 'I t -> 'I list) =
      fun (x73 : 'I t) ->
        Ojs.list_of_js Obj.magic
          (Ojs.get_prop_ascii (t_to_js Obj.magic x73) "files")
  end
module FileOperationFeature =
  struct
    type ('I, 'E) t = ('I, 'E) _FileOperationFeature
    let rec t_of_js :
      'I 'E . (Ojs.t -> 'I) -> (Ojs.t -> 'E) -> Ojs.t -> ('I, 'E) t = fun
      (type __I) -> fun (type __E) ->
      fun (__I_of_js : Ojs.t -> __I) ->
        fun (__E_of_js : Ojs.t -> __E) ->
          fun (x79 : Ojs.t) ->
            _FileOperationFeature_of_js __I_of_js __E_of_js x79
    and t_to_js :
      'I 'E . ('I -> Ojs.t) -> ('E -> Ojs.t) -> ('I, 'E) t -> Ojs.t = fun
      (type __I) -> fun (type __E) ->
      fun (__I_to_js : __I -> Ojs.t) ->
        fun (__E_to_js : __E -> Ojs.t) ->
          fun (x76 : (__I, __E) _FileOperationFeature) ->
            _FileOperationFeature_to_js __I_to_js __E_to_js x76
    let (get__client : ('I, 'E) t -> BaseLanguageClient.t) =
      fun (x82 : ('I, 'E) t) ->
        BaseLanguageClient.t_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x82) "_client")
    let (set__client : ('I, 'E) t -> BaseLanguageClient.t -> unit) =
      fun (x85 : ('I, 'E) t) ->
        fun (x86 : BaseLanguageClient.t) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic x85) "_client"
            (BaseLanguageClient.t_to_js x86)
    let (get__event : ('I, 'E) t -> any) =
      fun (x89 : ('I, 'E) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x89) "_event")
    let (set__event : ('I, 'E) t -> any -> unit) =
      fun (x92 : ('I, 'E) t) ->
        fun (x93 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic x92) "_event"
            (any_to_js x93)
    let (get__registrationType : ('I, 'E) t -> any) =
      fun (x96 : ('I, 'E) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x96)
             "_registrationType")
    let (set__registrationType : ('I, 'E) t -> any -> unit) =
      fun (x99 : ('I, 'E) t) ->
        fun (x100 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic x99)
            "_registrationType" (any_to_js x100)
    let (get__clientCapability : ('I, 'E) t -> any) =
      fun (x103 : ('I, 'E) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x103)
             "_clientCapability")
    let (set__clientCapability : ('I, 'E) t -> any -> unit) =
      fun (x106 : ('I, 'E) t) ->
        fun (x107 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic x106)
            "_clientCapability" (any_to_js x107)
    let (get__serverCapability : ('I, 'E) t -> any) =
      fun (x110 : ('I, 'E) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x110)
             "_serverCapability")
    let (set__serverCapability : ('I, 'E) t -> any -> unit) =
      fun (x113 : ('I, 'E) t) ->
        fun (x114 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic x113)
            "_serverCapability" (any_to_js x114)
    let (get__listener : ('I, 'E) t -> any) =
      fun (x117 : ('I, 'E) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x117) "_listener")
    let (set__listener : ('I, 'E) t -> any -> unit) =
      fun (x120 : ('I, 'E) t) ->
        fun (x121 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic x120) "_listener"
            (any_to_js x121)
    let (get__filters : ('I, 'E) t -> any) =
      fun (x124 : ('I, 'E) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x124) "_filters")
    let (set__filters : ('I, 'E) t -> any -> unit) =
      fun (x127 : ('I, 'E) t) ->
        fun (x128 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic x127) "_filters"
            (any_to_js x128)
    let (create :
      client:BaseLanguageClient.t ->
        event:'E Code.Event.t ->
          registrationType:Proto.FileOperationRegistrationOptions.t
            Proto.RegistrationType.t ->
            clientCapability:any -> serverCapability:any -> ('I, 'E) t)
      =
      fun ~client:(x131 : BaseLanguageClient.t) ->
        fun ~event:(x132 : 'E Code.Event.t) ->
          fun
            ~registrationType:(x134 :
                                Proto.FileOperationRegistrationOptions.t
                                  Proto.RegistrationType.t)
            ->
            fun ~clientCapability:(x136 : any) ->
              fun ~serverCapability:(x137 : any) ->
                t_of_js Obj.magic Obj.magic
                  (Ojs.new_obj
                     (Ojs.get_prop_ascii Ojs.global "FileOperationFeature")
                     [|(BaseLanguageClient.t_to_js x131);(Code.Event.t_to_js
                                                            Obj.magic x132);(
                       Proto.RegistrationType.t_to_js
                         Proto.FileOperationRegistrationOptions.t_to_js x134);(
                       any_to_js x136);(any_to_js x137)|])
    let (get_registrationType :
      ('I, 'E) t ->
        Proto.FileOperationRegistrationOptions.t Proto.RegistrationType.t)
      =
      fun (x140 : ('I, 'E) t) ->
        Proto.RegistrationType.t_of_js
          Proto.FileOperationRegistrationOptions.t_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic x140)
             "registrationType")
    let (fillClientCapabilities :
      ('I, 'E) t -> capabilities:Proto.ClientCapabilities.t -> unit) =
      fun (x145 : ('I, 'E) t) ->
        fun ~capabilities:(x144 : Proto.ClientCapabilities.t) ->
          ignore
            (Ojs.call (t_to_js Obj.magic Obj.magic x145)
               "fillClientCapabilities"
               [|(Proto.ClientCapabilities.t_to_js x144)|])
    let (initialize :
      ('I, 'E) t -> capabilities:Proto.ServerCapabilities.t -> unit) =
      fun (x149 : ('I, 'E) t) ->
        fun ~capabilities:(x148 : Proto.ServerCapabilities.t) ->
          ignore
            (Ojs.call (t_to_js Obj.magic Obj.magic x149) "initialize"
               [|(Proto.ServerCapabilities.t_to_js x148)|])
    let (register :
      ('I, 'E) t ->
        data:Proto.FileOperationRegistrationOptions.t RegistrationData.t ->
          unit)
      =
      fun (x154 : ('I, 'E) t) ->
        fun
          ~data:(x152 :
                  Proto.FileOperationRegistrationOptions.t RegistrationData.t)
          ->
          ignore
            (Ojs.call (t_to_js Obj.magic Obj.magic x154) "register"
               [|(RegistrationData.t_to_js
                    Proto.FileOperationRegistrationOptions.t_to_js x152)|])
    let (send : ('I, 'E) t -> data:'E -> unit Promise.t) =
      fun (x158 : ('I, 'E) t) ->
        fun ~data:(x157 : 'E) ->
          Promise.t_of_js Ojs.unit_of_js
            (Ojs.call (t_to_js Obj.magic Obj.magic x158) "send"
               [|(Obj.magic x157)|])
    let (unregister : ('I, 'E) t -> id:string -> unit) =
      fun (x163 : ('I, 'E) t) ->
        fun ~id:(x162 : string) ->
          ignore
            (Ojs.call (t_to_js Obj.magic Obj.magic x163) "unregister"
               [|(Ojs.string_to_js x162)|])
    let (dispose : ('I, 'E) t -> unit) =
      fun (x166 : ('I, 'E) t) ->
        ignore (Ojs.call (t_to_js Obj.magic Obj.magic x166) "dispose" [||])
    let (filter :
      ('I, 'E) t -> event:'E -> prop:(i:'I -> Code.Uri.t) -> 'E Promise.t) =
      fun (x172 : ('I, 'E) t) ->
        fun ~event:(x169 : 'E) ->
          fun ~prop:(x170 : i:'I -> Code.Uri.t) ->
            Promise.t_of_js Obj.magic
              (Ojs.call (t_to_js Obj.magic Obj.magic x172) "filter"
                 [|(Obj.magic x169);(Ojs.fun_to_js 1
                                       (fun (x171 : Ojs.t) ->
                                          Code.Uri.t_to_js
                                            (x170 ~i:(Obj.magic x171))))|])
    let (get_getFileType : unit -> any) =
      fun () ->
        any_of_js
          (Ojs.get_prop_ascii
             (Ojs.get_prop_ascii Ojs.global "FileOperationFeature")
             "getFileType")
    let (set_getFileType : any -> unit) =
      fun (x176 : any) ->
        Ojs.set_prop_ascii
          (Ojs.get_prop_ascii Ojs.global "FileOperationFeature")
          "getFileType" (any_to_js x176)
    let (get_asMinimatchOptions : unit -> any) =
      fun () ->
        any_of_js
          (Ojs.get_prop_ascii
             (Ojs.get_prop_ascii Ojs.global "FileOperationFeature")
             "asMinimatchOptions")
    let (set_asMinimatchOptions : any -> unit) =
      fun (x177 : any) ->
        Ojs.set_prop_ascii
          (Ojs.get_prop_ascii Ojs.global "FileOperationFeature")
          "asMinimatchOptions" (any_to_js x177)
    let (cast :
      ('I, 'E) t -> Proto.FileOperationRegistrationOptions.t DynamicFeature.t)
      =
      fun (x178 : ('I, 'E) t) ->
        DynamicFeature.t_of_js Proto.FileOperationRegistrationOptions.t_of_js
          (t_to_js Obj.magic Obj.magic x178)
  end
module NotificationFileOperationFeature =
  struct
    type ('I, 'E, 'P) t = ('I, 'E, 'P) _NotificationFileOperationFeature
    let rec t_of_js :
      'I 'E 'P .
        (Ojs.t -> 'I) ->
          (Ojs.t -> 'E) -> (Ojs.t -> 'P) -> Ojs.t -> ('I, 'E, 'P) t
      = fun (type __I) -> fun (type __E) -> fun (type __P) ->
      fun (__I_of_js : Ojs.t -> __I) ->
        fun (__E_of_js : Ojs.t -> __E) ->
          fun (__P_of_js : Ojs.t -> __P) ->
            fun (x186 : Ojs.t) ->
              _NotificationFileOperationFeature_of_js __I_of_js __E_of_js
                __P_of_js x186
    and t_to_js :
      'I 'E 'P .
        ('I -> Ojs.t) ->
          ('E -> Ojs.t) -> ('P -> Ojs.t) -> ('I, 'E, 'P) t -> Ojs.t
      = fun (type __I) -> fun (type __E) -> fun (type __P) ->
      fun (__I_to_js : __I -> Ojs.t) ->
        fun (__E_to_js : __E -> Ojs.t) ->
          fun (__P_to_js : __P -> Ojs.t) ->
            fun (x182 : (__I, __E, __P) _NotificationFileOperationFeature) ->
              _NotificationFileOperationFeature_to_js __I_to_js __E_to_js
                __P_to_js x182
    let (get__notificationType : ('I, 'E, 'P) t -> any) =
      fun (x190 : ('I, 'E, 'P) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x190)
             "_notificationType")
    let (set__notificationType : ('I, 'E, 'P) t -> any -> unit) =
      fun (x194 : ('I, 'E, 'P) t) ->
        fun (x195 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x194)
            "_notificationType" (any_to_js x195)
    let (get__accessUri : ('I, 'E, 'P) t -> any) =
      fun (x199 : ('I, 'E, 'P) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x199)
             "_accessUri")
    let (set__accessUri : ('I, 'E, 'P) t -> any -> unit) =
      fun (x203 : ('I, 'E, 'P) t) ->
        fun (x204 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x203)
            "_accessUri" (any_to_js x204)
    let (get__createParams : ('I, 'E, 'P) t -> any) =
      fun (x208 : ('I, 'E, 'P) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x208)
             "_createParams")
    let (set__createParams : ('I, 'E, 'P) t -> any -> unit) =
      fun (x212 : ('I, 'E, 'P) t) ->
        fun (x213 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x212)
            "_createParams" (any_to_js x213)
    let (create :
      client:BaseLanguageClient.t ->
        event:'E Code.Event.t ->
          notificationType:('P, Proto.FileOperationRegistrationOptions.t)
            Proto.ProtocolNotificationType.t ->
            clientCapability:any ->
              serverCapability:any ->
                accessUri:(i:'I -> Code.Uri.t) ->
                  createParams:(e:'E -> 'P) -> ('I, 'E, 'P) t)
      =
      fun ~client:(x217 : BaseLanguageClient.t) ->
        fun ~event:(x218 : 'E Code.Event.t) ->
          fun
            ~notificationType:(x220 :
                                ('P,
                                  Proto.FileOperationRegistrationOptions.t)
                                  Proto.ProtocolNotificationType.t)
            ->
            fun ~clientCapability:(x223 : any) ->
              fun ~serverCapability:(x224 : any) ->
                fun ~accessUri:(x225 : i:'I -> Code.Uri.t) ->
                  fun ~createParams:(x227 : e:'E -> 'P) ->
                    t_of_js Obj.magic Obj.magic Obj.magic
                      (Ojs.new_obj
                         (Ojs.get_prop_ascii Ojs.global
                            "NotificationFileOperationFeature")
                         [|(BaseLanguageClient.t_to_js x217);(Code.Event.t_to_js
                                                                Obj.magic
                                                                x218);(
                           Proto.ProtocolNotificationType.t_to_js Obj.magic
                             Proto.FileOperationRegistrationOptions.t_to_js
                             x220);(any_to_js x223);(any_to_js x224);(
                           Ojs.fun_to_js 1
                             (fun (x226 : Ojs.t) ->
                                Code.Uri.t_to_js (x225 ~i:(Obj.magic x226))));(
                           Ojs.fun_to_js 1
                             (fun (x228 : Ojs.t) ->
                                Obj.magic (x227 ~e:(Obj.magic x228))))|])
    let (send : ('I, 'E, 'P) t -> originalEvent:'E -> unit Promise.t) =
      fun (x233 : ('I, 'E, 'P) t) ->
        fun ~originalEvent:(x232 : 'E) ->
          Promise.t_of_js Ojs.unit_of_js
            (Ojs.call (t_to_js Obj.magic Obj.magic Obj.magic x233) "send"
               [|(Obj.magic x232)|])
    let (doSend :
      ('I, 'E, 'P) t -> event:'E -> next:(event:'E -> unit) -> unit) =
      fun (x241 : ('I, 'E, 'P) t) ->
        fun ~event:(x238 : 'E) ->
          fun ~next:(x239 : event:'E -> unit) ->
            ignore
              (Ojs.call (t_to_js Obj.magic Obj.magic Obj.magic x241) "doSend"
                 [|(Obj.magic x238);(Ojs.fun_to_js 1
                                       (fun (x240 : Ojs.t) ->
                                          x239 ~event:(Obj.magic x240)))|])
    let (cast : ('I, 'E, 'P) t -> ('I, 'E) _FileOperationFeature) =
      fun (x245 : ('I, 'E, 'P) t) ->
        _FileOperationFeature_of_js Obj.magic Obj.magic
          (t_to_js Obj.magic Obj.magic Obj.magic x245)
  end
module DidCreateFilesFeature =
  struct
    type t = _DidCreateFilesFeature
    let rec t_of_js : Ojs.t -> t =
      fun (x252 : Ojs.t) -> _DidCreateFilesFeature_of_js x252
    and t_to_js : t -> Ojs.t =
      fun (x251 : _DidCreateFilesFeature) ->
        _DidCreateFilesFeature_to_js x251
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x253 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj
             (Ojs.get_prop_ascii Ojs.global "DidCreateFilesFeature")
             [|(BaseLanguageClient.t_to_js x253)|])
    let (doSend :
      t ->
        event:Code.FileCreateEvent.t ->
          next:(event:Code.FileCreateEvent.t -> unit) -> unit)
      =
      fun (x257 : t) ->
        fun ~event:(x254 : Code.FileCreateEvent.t) ->
          fun ~next:(x255 : event:Code.FileCreateEvent.t -> unit) ->
            ignore
              (Ojs.call (t_to_js x257) "doSend"
                 [|(Code.FileCreateEvent.t_to_js x254);(Ojs.fun_to_js 1
                                                          (fun (x256 : Ojs.t)
                                                             ->
                                                             x255
                                                               ~event:(
                                                               Code.FileCreateEvent.t_of_js
                                                                 x256)))|])
    let (cast :
      t ->
        (Code.Uri.t, Code.FileCreateEvent.t, Proto.CreateFilesParams.t)
          _NotificationFileOperationFeature)
      =
      fun (x258 : t) ->
        _NotificationFileOperationFeature_of_js Code.Uri.t_of_js
          Code.FileCreateEvent.t_of_js Proto.CreateFilesParams.t_of_js
          (t_to_js x258)
  end
module DidRenameFilesFeature =
  struct
    type t = _DidRenameFilesFeature
    let rec t_of_js : Ojs.t -> t =
      fun (x263 : Ojs.t) -> _DidRenameFilesFeature_of_js x263
    and t_to_js : t -> Ojs.t =
      fun (x262 : _DidRenameFilesFeature) ->
        _DidRenameFilesFeature_to_js x262
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x264 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj
             (Ojs.get_prop_ascii Ojs.global "DidRenameFilesFeature")
             [|(BaseLanguageClient.t_to_js x264)|])
    let (doSend :
      t ->
        event:Code.FileRenameEvent.t ->
          next:(event:Code.FileRenameEvent.t -> unit) -> unit)
      =
      fun (x268 : t) ->
        fun ~event:(x265 : Code.FileRenameEvent.t) ->
          fun ~next:(x266 : event:Code.FileRenameEvent.t -> unit) ->
            ignore
              (Ojs.call (t_to_js x268) "doSend"
                 [|(Code.FileRenameEvent.t_to_js x265);(Ojs.fun_to_js 1
                                                          (fun (x267 : Ojs.t)
                                                             ->
                                                             x266
                                                               ~event:(
                                                               Code.FileRenameEvent.t_of_js
                                                                 x267)))|])
    let (cast :
      t ->
        (anonymous_interface_1, Code.FileRenameEvent.t,
          Proto.RenameFilesParams.t) _NotificationFileOperationFeature)
      =
      fun (x269 : t) ->
        _NotificationFileOperationFeature_of_js anonymous_interface_1_of_js
          Code.FileRenameEvent.t_of_js Proto.RenameFilesParams.t_of_js
          (t_to_js x269)
  end
module DidDeleteFilesFeature =
  struct
    type t = _DidDeleteFilesFeature
    let rec t_of_js : Ojs.t -> t =
      fun (x274 : Ojs.t) -> _DidDeleteFilesFeature_of_js x274
    and t_to_js : t -> Ojs.t =
      fun (x273 : _DidDeleteFilesFeature) ->
        _DidDeleteFilesFeature_to_js x273
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x275 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj
             (Ojs.get_prop_ascii Ojs.global "DidDeleteFilesFeature")
             [|(BaseLanguageClient.t_to_js x275)|])
    let (doSend :
      t ->
        event:Code.FileCreateEvent.t ->
          next:(event:Code.FileCreateEvent.t -> unit) -> unit)
      =
      fun (x279 : t) ->
        fun ~event:(x276 : Code.FileCreateEvent.t) ->
          fun ~next:(x277 : event:Code.FileCreateEvent.t -> unit) ->
            ignore
              (Ojs.call (t_to_js x279) "doSend"
                 [|(Code.FileCreateEvent.t_to_js x276);(Ojs.fun_to_js 1
                                                          (fun (x278 : Ojs.t)
                                                             ->
                                                             x277
                                                               ~event:(
                                                               Code.FileCreateEvent.t_of_js
                                                                 x278)))|])
    let (cast :
      t ->
        (Code.Uri.t, Code.FileDeleteEvent.t, Proto.DeleteFilesParams.t)
          _NotificationFileOperationFeature)
      =
      fun (x280 : t) ->
        _NotificationFileOperationFeature_of_js Code.Uri.t_of_js
          Code.FileDeleteEvent.t_of_js Proto.DeleteFilesParams.t_of_js
          (t_to_js x280)
  end
module RequestEvent =
  struct
    type 'I t = 'I _RequestEvent
    let rec t_of_js : 'I . (Ojs.t -> 'I) -> Ojs.t -> 'I t = fun (type __I) ->
      fun (__I_of_js : Ojs.t -> __I) ->
        fun (x286 : Ojs.t) -> _RequestEvent_of_js __I_of_js x286
    and t_to_js : 'I . ('I -> Ojs.t) -> 'I t -> Ojs.t = fun (type __I) ->
      fun (__I_to_js : __I -> Ojs.t) ->
        fun (x284 : __I _RequestEvent) -> _RequestEvent_to_js __I_to_js x284
    let (get_files : 'I t -> 'I list) =
      fun (x288 : 'I t) ->
        Ojs.list_of_js Obj.magic
          (Ojs.get_prop_ascii (t_to_js Obj.magic x288) "files")
    let (waitUntil : 'I t -> thenable:Code.WorkspaceEdit.t Promise.t -> unit)
      =
      fun (x293 : 'I t) ->
        fun ~thenable:(x291 : Code.WorkspaceEdit.t Promise.t) ->
          ignore
            (Ojs.call (t_to_js Obj.magic x293) "waitUntil"
               [|(Promise.t_to_js Code.WorkspaceEdit.t_to_js x291)|])
    let (waitUntil' : 'I t -> thenable:any Promise.t -> unit) =
      fun (x297 : 'I t) ->
        fun ~thenable:(x295 : any Promise.t) ->
          ignore
            (Ojs.call (t_to_js Obj.magic x297) "waitUntil"
               [|(Promise.t_to_js any_to_js x295)|])
  end
module RequestFileOperationFeature =
  struct
    type ('I, 'E, 'P) t = ('I, 'E, 'P) _RequestFileOperationFeature
    let rec t_of_js :
      'I 'E 'P .
        (Ojs.t -> 'I) ->
          (Ojs.t -> 'E) -> (Ojs.t -> 'P) -> Ojs.t -> ('I, 'E, 'P) t
      = fun (type __I) -> fun (type __E) -> fun (type __P) ->
      fun (__I_of_js : Ojs.t -> __I) ->
        fun (__E_of_js : Ojs.t -> __E) ->
          fun (__P_of_js : Ojs.t -> __P) ->
            fun (x303 : Ojs.t) ->
              _RequestFileOperationFeature_of_js __I_of_js __E_of_js
                __P_of_js x303
    and t_to_js :
      'I 'E 'P .
        ('I -> Ojs.t) ->
          ('E -> Ojs.t) -> ('P -> Ojs.t) -> ('I, 'E, 'P) t -> Ojs.t
      = fun (type __I) -> fun (type __E) -> fun (type __P) ->
      fun (__I_to_js : __I -> Ojs.t) ->
        fun (__E_to_js : __E -> Ojs.t) ->
          fun (__P_to_js : __P -> Ojs.t) ->
            fun (x299 : (__I, __E, __P) _RequestFileOperationFeature) ->
              _RequestFileOperationFeature_to_js __I_to_js __E_to_js
                __P_to_js x299
    let (get__requestType : ('I, 'E, 'P) t -> any) =
      fun (x307 : ('I, 'E, 'P) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x307)
             "_requestType")
    let (set__requestType : ('I, 'E, 'P) t -> any -> unit) =
      fun (x311 : ('I, 'E, 'P) t) ->
        fun (x312 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x311)
            "_requestType" (any_to_js x312)
    let (get__accessUri : ('I, 'E, 'P) t -> any) =
      fun (x316 : ('I, 'E, 'P) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x316)
             "_accessUri")
    let (set__accessUri : ('I, 'E, 'P) t -> any -> unit) =
      fun (x320 : ('I, 'E, 'P) t) ->
        fun (x321 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x320)
            "_accessUri" (any_to_js x321)
    let (get__createParams : ('I, 'E, 'P) t -> any) =
      fun (x325 : ('I, 'E, 'P) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x325)
             "_createParams")
    let (set__createParams : ('I, 'E, 'P) t -> any -> unit) =
      fun (x329 : ('I, 'E, 'P) t) ->
        fun (x330 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x329)
            "_createParams" (any_to_js x330)
    let (create :
      client:BaseLanguageClient.t ->
        event:'E Code.Event.t ->
          requestType:('P, Proto.WorkspaceEdit.t or_null, never, unit,
            Proto.FileOperationRegistrationOptions.t)
            Proto.ProtocolRequestType.t ->
            clientCapability:any ->
              serverCapability:any ->
                accessUri:(i:'I -> Code.Uri.t) ->
                  createParams:(e:'I _Event -> 'P) -> ('I, 'E, 'P) t)
      =
      fun ~client:(x334 : BaseLanguageClient.t) ->
        fun ~event:(x335 : 'E Code.Event.t) ->
          fun
            ~requestType:(x337 :
                           ('P, Proto.WorkspaceEdit.t or_null, never, 
                             unit, Proto.FileOperationRegistrationOptions.t)
                             Proto.ProtocolRequestType.t)
            ->
            fun ~clientCapability:(x344 : any) ->
              fun ~serverCapability:(x345 : any) ->
                fun ~accessUri:(x346 : i:'I -> Code.Uri.t) ->
                  fun ~createParams:(x348 : e:'I _Event -> 'P) ->
                    t_of_js Obj.magic Obj.magic Obj.magic
                      (Ojs.new_obj
                         (Ojs.get_prop_ascii Ojs.global
                            "RequestFileOperationFeature")
                         [|(BaseLanguageClient.t_to_js x334);(Code.Event.t_to_js
                                                                Obj.magic
                                                                x335);(
                           Proto.ProtocolRequestType.t_to_js Obj.magic
                             (fun (x339 : Proto.WorkspaceEdit.t or_null) ->
                                or_null_to_js Proto.WorkspaceEdit.t_to_js
                                  x339) never_to_js Ojs.unit_to_js
                             Proto.FileOperationRegistrationOptions.t_to_js
                             x337);(any_to_js x344);(any_to_js x345);(
                           Ojs.fun_to_js 1
                             (fun (x347 : Ojs.t) ->
                                Code.Uri.t_to_js (x346 ~i:(Obj.magic x347))));(
                           Ojs.fun_to_js 1
                             (fun (x349 : Ojs.t) ->
                                Obj.magic
                                  (x348 ~e:(_Event_of_js Obj.magic x349))))|])
    let (send :
      ('I, 'E, 'P) t ->
        originalEvent:('E, 'I _RequestEvent) intersection2 -> unit Promise.t)
      =
      fun (x358 : ('I, 'E, 'P) t) ->
        fun ~originalEvent:(x354 : ('E, 'I _RequestEvent) intersection2) ->
          Promise.t_of_js Ojs.unit_of_js
            (Ojs.call (t_to_js Obj.magic Obj.magic Obj.magic x358) "send"
               [|(intersection2_to_js Obj.magic
                    (fun (x356 : 'I _RequestEvent) ->
                       _RequestEvent_to_js Obj.magic x356) x354)|])
    let (get_waitUntil : ('I, 'E, 'P) t -> any) =
      fun (x363 : ('I, 'E, 'P) t) ->
        any_of_js
          (Ojs.get_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x363)
             "waitUntil")
    let (set_waitUntil : ('I, 'E, 'P) t -> any -> unit) =
      fun (x367 : ('I, 'E, 'P) t) ->
        fun (x368 : any) ->
          Ojs.set_prop_ascii (t_to_js Obj.magic Obj.magic Obj.magic x367)
            "waitUntil" (any_to_js x368)
    let (doSend :
      ('I, 'E, 'P) t ->
        event:'E ->
          next:(event:'I _Event ->
                  (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            -> (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
      =
      fun (x380 : ('I, 'E, 'P) t) ->
        fun ~event:(x372 : 'E) ->
          fun
            ~next:(x373 :
                    event:'I _Event ->
                      (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            ->
            union2_of_js
              (fun (x384 : Ojs.t) ->
                 Promise.t_of_js Code.WorkspaceEdit.t_of_js x384)
              (fun (x386 : Ojs.t) -> Promise.t_of_js any_of_js x386)
              (Ojs.call (t_to_js Obj.magic Obj.magic Obj.magic x380) "doSend"
                 [|(Obj.magic x372);(Ojs.fun_to_js 1
                                       (fun (x374 : Ojs.t) ->
                                          union2_to_js
                                            (fun
                                               (x376 :
                                                 Code.WorkspaceEdit.t
                                                   Promise.t)
                                               ->
                                               Promise.t_to_js
                                                 Code.WorkspaceEdit.t_to_js
                                                 x376)
                                            (fun (x378 : any Promise.t) ->
                                               Promise.t_to_js any_to_js x378)
                                            (x373
                                               ~event:(_Event_of_js Obj.magic
                                                         x374))))|])
    let (cast : ('I, 'E, 'P) t -> ('I, 'E) _FileOperationFeature) =
      fun (x388 : ('I, 'E, 'P) t) ->
        _FileOperationFeature_of_js Obj.magic Obj.magic
          (t_to_js Obj.magic Obj.magic Obj.magic x388)
  end
module WillCreateFilesFeature =
  struct
    type t = _WillCreateFilesFeature
    let rec t_of_js : Ojs.t -> t =
      fun (x395 : Ojs.t) -> _WillCreateFilesFeature_of_js x395
    and t_to_js : t -> Ojs.t =
      fun (x394 : _WillCreateFilesFeature) ->
        _WillCreateFilesFeature_to_js x394
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x396 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj
             (Ojs.get_prop_ascii Ojs.global "WillCreateFilesFeature")
             [|(BaseLanguageClient.t_to_js x396)|])
    let (doSend :
      t ->
        event:Code.FileWillCreateEvent.t ->
          next:(event:Code.FileCreateEvent.t ->
                  (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            -> (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
      =
      fun (x404 : t) ->
        fun ~event:(x397 : Code.FileWillCreateEvent.t) ->
          fun
            ~next:(x398 :
                    event:Code.FileCreateEvent.t ->
                      (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            ->
            union2_of_js
              (fun (x405 : Ojs.t) ->
                 Promise.t_of_js Code.WorkspaceEdit.t_of_js x405)
              (fun (x407 : Ojs.t) -> Promise.t_of_js any_of_js x407)
              (Ojs.call (t_to_js x404) "doSend"
                 [|(Code.FileWillCreateEvent.t_to_js x397);(Ojs.fun_to_js 1
                                                              (fun
                                                                 (x399 :
                                                                   Ojs.t)
                                                                 ->
                                                                 union2_to_js
                                                                   (fun
                                                                    (x400 :
                                                                    Code.WorkspaceEdit.t
                                                                    Promise.t)
                                                                    ->
                                                                    Promise.t_to_js
                                                                    Code.WorkspaceEdit.t_to_js
                                                                    x400)
                                                                   (fun
                                                                    (x402 :
                                                                    any
                                                                    Promise.t)
                                                                    ->
                                                                    Promise.t_to_js
                                                                    any_to_js
                                                                    x402)
                                                                   (x398
                                                                    ~event:(
                                                                    Code.FileCreateEvent.t_of_js
                                                                    x399))))|])
    let (cast :
      t ->
        (Code.Uri.t, Code.FileWillCreateEvent.t, Proto.CreateFilesParams.t)
          _RequestFileOperationFeature)
      =
      fun (x409 : t) ->
        _RequestFileOperationFeature_of_js Code.Uri.t_of_js
          Code.FileWillCreateEvent.t_of_js Proto.CreateFilesParams.t_of_js
          (t_to_js x409)
  end
module WillRenameFilesFeature =
  struct
    type t = _WillRenameFilesFeature
    let rec t_of_js : Ojs.t -> t =
      fun (x414 : Ojs.t) -> _WillRenameFilesFeature_of_js x414
    and t_to_js : t -> Ojs.t =
      fun (x413 : _WillRenameFilesFeature) ->
        _WillRenameFilesFeature_to_js x413
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x415 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj
             (Ojs.get_prop_ascii Ojs.global "WillRenameFilesFeature")
             [|(BaseLanguageClient.t_to_js x415)|])
    let (doSend :
      t ->
        event:Code.FileWillRenameEvent.t ->
          next:(event:Code.FileRenameEvent.t ->
                  (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            -> (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
      =
      fun (x423 : t) ->
        fun ~event:(x416 : Code.FileWillRenameEvent.t) ->
          fun
            ~next:(x417 :
                    event:Code.FileRenameEvent.t ->
                      (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            ->
            union2_of_js
              (fun (x424 : Ojs.t) ->
                 Promise.t_of_js Code.WorkspaceEdit.t_of_js x424)
              (fun (x426 : Ojs.t) -> Promise.t_of_js any_of_js x426)
              (Ojs.call (t_to_js x423) "doSend"
                 [|(Code.FileWillRenameEvent.t_to_js x416);(Ojs.fun_to_js 1
                                                              (fun
                                                                 (x418 :
                                                                   Ojs.t)
                                                                 ->
                                                                 union2_to_js
                                                                   (fun
                                                                    (x419 :
                                                                    Code.WorkspaceEdit.t
                                                                    Promise.t)
                                                                    ->
                                                                    Promise.t_to_js
                                                                    Code.WorkspaceEdit.t_to_js
                                                                    x419)
                                                                   (fun
                                                                    (x421 :
                                                                    any
                                                                    Promise.t)
                                                                    ->
                                                                    Promise.t_to_js
                                                                    any_to_js
                                                                    x421)
                                                                   (x417
                                                                    ~event:(
                                                                    Code.FileRenameEvent.t_of_js
                                                                    x418))))|])
    let (cast :
      t ->
        (anonymous_interface_1, Code.FileWillRenameEvent.t,
          Proto.RenameFilesParams.t) _RequestFileOperationFeature)
      =
      fun (x428 : t) ->
        _RequestFileOperationFeature_of_js anonymous_interface_1_of_js
          Code.FileWillRenameEvent.t_of_js Proto.RenameFilesParams.t_of_js
          (t_to_js x428)
  end
module WillDeleteFilesFeature =
  struct
    type t = _WillDeleteFilesFeature
    let rec t_of_js : Ojs.t -> t =
      fun (x433 : Ojs.t) -> _WillDeleteFilesFeature_of_js x433
    and t_to_js : t -> Ojs.t =
      fun (x432 : _WillDeleteFilesFeature) ->
        _WillDeleteFilesFeature_to_js x432
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x434 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj
             (Ojs.get_prop_ascii Ojs.global "WillDeleteFilesFeature")
             [|(BaseLanguageClient.t_to_js x434)|])
    let (doSend :
      t ->
        event:Code.FileWillDeleteEvent.t ->
          next:(event:Code.FileDeleteEvent.t ->
                  (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            -> (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
      =
      fun (x442 : t) ->
        fun ~event:(x435 : Code.FileWillDeleteEvent.t) ->
          fun
            ~next:(x436 :
                    event:Code.FileDeleteEvent.t ->
                      (Code.WorkspaceEdit.t Promise.t, any Promise.t) union2)
            ->
            union2_of_js
              (fun (x443 : Ojs.t) ->
                 Promise.t_of_js Code.WorkspaceEdit.t_of_js x443)
              (fun (x445 : Ojs.t) -> Promise.t_of_js any_of_js x445)
              (Ojs.call (t_to_js x442) "doSend"
                 [|(Code.FileWillDeleteEvent.t_to_js x435);(Ojs.fun_to_js 1
                                                              (fun
                                                                 (x437 :
                                                                   Ojs.t)
                                                                 ->
                                                                 union2_to_js
                                                                   (fun
                                                                    (x438 :
                                                                    Code.WorkspaceEdit.t
                                                                    Promise.t)
                                                                    ->
                                                                    Promise.t_to_js
                                                                    Code.WorkspaceEdit.t_to_js
                                                                    x438)
                                                                   (fun
                                                                    (x440 :
                                                                    any
                                                                    Promise.t)
                                                                    ->
                                                                    Promise.t_to_js
                                                                    any_to_js
                                                                    x440)
                                                                   (x436
                                                                    ~event:(
                                                                    Code.FileDeleteEvent.t_of_js
                                                                    x437))))|])
    let (cast :
      t ->
        (Code.Uri.t, Code.FileWillDeleteEvent.t, Proto.DeleteFilesParams.t)
          _RequestFileOperationFeature)
      =
      fun (x447 : t) ->
        _RequestFileOperationFeature_of_js Code.Uri.t_of_js
          Code.FileWillDeleteEvent.t_of_js Proto.DeleteFilesParams.t_of_js
          (t_to_js x447)
  end
