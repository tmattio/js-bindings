[@@@js.dummy "!! This code has been generated by gen_js_api !!"]
[@@@ocaml.warning "-7-32-39"]
[@@@ocaml.warning "-7-11-32-33-39"]
open Es5
module Internal =
  struct
    module AnonymousInterfaces = struct  end
    module Types =
      struct
        open AnonymousInterfaces
        type _ProvideSelectionRangeSignature =
          [ `ProvideSelectionRangeSignature ] intf
        and _SelectionRangeFeature = [ `SelectionRangeFeature ] intf
        and _SelectionRangeProviderMiddleware =
          [ `SelectionRangeProviderMiddleware ] intf
        let rec _ProvideSelectionRangeSignature_of_js :
          Ojs.t -> _ProvideSelectionRangeSignature = Obj.magic
        and _ProvideSelectionRangeSignature_to_js :
          _ProvideSelectionRangeSignature -> Ojs.t = Obj.magic
        and _SelectionRangeFeature_of_js : Ojs.t -> _SelectionRangeFeature =
          Obj.magic
        and _SelectionRangeFeature_to_js : _SelectionRangeFeature -> Ojs.t =
          Obj.magic
        and _SelectionRangeProviderMiddleware_of_js :
          Ojs.t -> _SelectionRangeProviderMiddleware = Obj.magic
        and _SelectionRangeProviderMiddleware_to_js :
          _SelectionRangeProviderMiddleware -> Ojs.t = Obj.magic
      end
  end
open Internal
open AnonymousInterfaces
open Types
module ProvideSelectionRangeSignature =
  struct
    type t = _ProvideSelectionRangeSignature
    let rec t_of_js : Ojs.t -> t =
      fun (x2 : Ojs.t) -> _ProvideSelectionRangeSignature_of_js x2
    and t_to_js : t -> Ojs.t =
      fun (x1 : _ProvideSelectionRangeSignature) ->
        _ProvideSelectionRangeSignature_to_js x1
    let (apply :
      t ->
        this:unit ->
          document:TextDocument.t ->
            positions:VPosition.t list ->
              token:CancellationToken.t ->
                VSelectionRange.t list ProviderResult.t)
      =
      fun (x8 : t) ->
        fun ~this:(x3 : unit) ->
          fun ~document:(x4 : TextDocument.t) ->
            fun ~positions:(x5 : VPosition.t list) ->
              fun ~token:(x7 : CancellationToken.t) ->
                ProviderResult.t_of_js
                  (fun (x9 : Ojs.t) ->
                     Ojs.list_of_js VSelectionRange.t_of_js x9)
                  (Ojs.apply (t_to_js x8)
                     [|(Ojs.unit_to_js x3);(TextDocument.t_to_js x4);(
                       Ojs.list_to_js VPosition.t_to_js x5);(CancellationToken.t_to_js
                                                               x7)|])
  end
module SelectionRangeProviderMiddleware =
  struct
    type t = _SelectionRangeProviderMiddleware
    let rec t_of_js : Ojs.t -> t =
      fun (x12 : Ojs.t) -> _SelectionRangeProviderMiddleware_of_js x12
    and t_to_js : t -> Ojs.t =
      fun (x11 : _SelectionRangeProviderMiddleware) ->
        _SelectionRangeProviderMiddleware_to_js x11
    let (provideSelectionRanges :
      t ->
        this:unit ->
          document:TextDocument.t ->
            positions:VPosition.t list ->
              token:CancellationToken.t ->
                next:_ProvideSelectionRangeSignature ->
                  VSelectionRange.t list ProviderResult.t)
      =
      fun (x19 : t) ->
        fun ~this:(x13 : unit) ->
          fun ~document:(x14 : TextDocument.t) ->
            fun ~positions:(x15 : VPosition.t list) ->
              fun ~token:(x17 : CancellationToken.t) ->
                fun ~next:(x18 : _ProvideSelectionRangeSignature) ->
                  ProviderResult.t_of_js
                    (fun (x20 : Ojs.t) ->
                       Ojs.list_of_js VSelectionRange.t_of_js x20)
                    (Ojs.call (t_to_js x19) "provideSelectionRanges"
                       [|(Ojs.unit_to_js x13);(TextDocument.t_to_js x14);(
                         Ojs.list_to_js VPosition.t_to_js x15);(CancellationToken.t_to_js
                                                                  x17);(
                         _ProvideSelectionRangeSignature_to_js x18)|])
  end
module SelectionRangeFeature =
  struct
    type t = _SelectionRangeFeature
    let rec t_of_js : Ojs.t -> t =
      fun (x23 : Ojs.t) -> _SelectionRangeFeature_of_js x23
    and t_to_js : t -> Ojs.t =
      fun (x22 : _SelectionRangeFeature) -> _SelectionRangeFeature_to_js x22
    let (create : client:BaseLanguageClient.t -> t) =
      fun ~client:(x24 : BaseLanguageClient.t) ->
        t_of_js
          (Ojs.new_obj
             (Ojs.get_prop_ascii Ojs.global "SelectionRangeFeature")
             [|(BaseLanguageClient.t_to_js x24)|])
    let (fillClientCapabilities :
      t -> capabilities:ClientCapabilities.t -> unit) =
      fun (x26 : t) ->
        fun ~capabilities:(x25 : ClientCapabilities.t) ->
          ignore
            (Ojs.call (t_to_js x26) "fillClientCapabilities"
               [|(ClientCapabilities.t_to_js x25)|])
    let (initialize :
      t ->
        capabilities:ServerCapabilities.t ->
          documentSelector:DocumentSelector.t -> unit)
      =
      fun (x29 : t) ->
        fun ~capabilities:(x27 : ServerCapabilities.t) ->
          fun ~documentSelector:(x28 : DocumentSelector.t) ->
            ignore
              (Ojs.call (t_to_js x29) "initialize"
                 [|(ServerCapabilities.t_to_js x27);(DocumentSelector.t_to_js
                                                       x28)|])
    let (registerLanguageProvider :
      t ->
        options:SelectionRangeRegistrationOptions.t ->
          (Disposable.t * SelectionRangeProvider.t))
      =
      fun (x31 : t) ->
        fun ~options:(x30 : SelectionRangeRegistrationOptions.t) ->
          let x32 =
            Ojs.call (t_to_js x31) "registerLanguageProvider"
              [|(SelectionRangeRegistrationOptions.t_to_js x30)|] in
          ((Disposable.t_of_js (Ojs.array_get x32 0)),
            (SelectionRangeProvider.t_of_js (Ojs.array_get x32 1)))
    let (cast :
      t ->
        (SelectionRangeOptions.t or_boolean,
          SelectionRangeRegistrationOptions.t, SelectionRangeProvider.t)
          TextDocumentFeature.t)
      =
      fun (x33 : t) ->
        TextDocumentFeature.t_of_js
          (fun (x34 : Ojs.t) ->
             or_boolean_of_js SelectionRangeOptions.t_of_js x34)
          SelectionRangeRegistrationOptions.t_of_js
          SelectionRangeProvider.t_of_js (t_to_js x33)
  end
