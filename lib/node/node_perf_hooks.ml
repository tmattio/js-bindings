[@@@js.dummy "!! This code has been generated by gen_js_api !!"]
[@@@ocaml.warning "-7-32-39"]
[@@@ocaml.warning "-7-11-32-33-39"]
open Es2020
open Node_globals
module AnonymousInterface0 =
  struct
    type t = Ojs.t
    let rec t_of_js : Ojs.t -> t = fun (x2 : Ojs.t) -> x2
    and t_to_js : t -> Ojs.t = fun (x1 : Ojs.t) -> x1
    let (get_entry_types : t -> EntryType.t list) =
      fun (x3 : t) ->
        Ojs.list_of_js EntryType.t_of_js
          (Ojs.get_prop_ascii (t_to_js x3) "entryTypes")
    let (set_entry_types : t -> EntryType.t list -> unit) =
      fun (x5 : t) ->
        fun (x6 : EntryType.t list) ->
          Ojs.set_prop_ascii (t_to_js x5) "entryTypes"
            (Ojs.list_to_js EntryType.t_to_js x6)
    let (get_buffered : t -> bool) =
      fun (x8 : t) ->
        Ojs.bool_of_js (Ojs.get_prop_ascii (t_to_js x8) "buffered")
    let (set_buffered : t -> bool -> unit) =
      fun (x9 : t) ->
        fun (x10 : bool) ->
          Ojs.set_prop_ascii (t_to_js x9) "buffered" (Ojs.bool_to_js x10)
  end
module Perf_hooks =
  struct
    module EntryType =
      struct
        type t =
          [ `function_  | `gc  | `http  | `http2  | `mark  | `measure 
          | `node ]
        let rec t_of_js : Ojs.t -> t =
          fun (x12 : Ojs.t) ->
            let x13 = x12 in
            match Ojs.string_of_js x13 with
            | "function" -> `function_
            | "gc" -> `gc
            | "http" -> `http
            | "http2" -> `http2
            | "mark" -> `mark
            | "measure" -> `measure
            | "node" -> `node
            | _ -> assert false
        and t_to_js : t -> Ojs.t =
          fun
            (x11 :
              [ `function_  | `gc  | `http  | `http2  | `mark  | `measure 
              | `node ])
            ->
            match x11 with
            | `function_ -> Ojs.string_to_js "function"
            | `gc -> Ojs.string_to_js "gc"
            | `http -> Ojs.string_to_js "http"
            | `http2 -> Ojs.string_to_js "http2"
            | `mark -> Ojs.string_to_js "mark"
            | `measure -> Ojs.string_to_js "measure"
            | `node -> Ojs.string_to_js "node"
      end
    module PerformanceEntry =
      struct
        type t = perf_hooks_PerformanceEntry
        let rec t_of_js : Ojs.t -> t =
          fun (x15 : Ojs.t) -> perf_hooks_PerformanceEntry_of_js x15
        and t_to_js : t -> Ojs.t =
          fun (x14 : perf_hooks_PerformanceEntry) ->
            perf_hooks_PerformanceEntry_to_js x14
        let (get_duration : t -> int) =
          fun (x16 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x16) "duration")
        let (get_name : t -> string) =
          fun (x17 : t) ->
            Ojs.string_of_js (Ojs.get_prop_ascii (t_to_js x17) "name")
        let (get_start_time : t -> int) =
          fun (x18 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x18) "startTime")
        let (get_entry_type : t -> EntryType.t) =
          fun (x19 : t) ->
            EntryType.t_of_js (Ojs.get_prop_ascii (t_to_js x19) "entryType")
        let (get_kind : t -> int) =
          fun (x20 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x20) "kind")
        let (get_flags : t -> int) =
          fun (x21 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x21) "flags")
      end
    module PerformanceNodeTiming =
      struct
        type t = perf_hooks_PerformanceNodeTiming
        let rec t_of_js : Ojs.t -> t =
          fun (x23 : Ojs.t) -> perf_hooks_PerformanceNodeTiming_of_js x23
        and t_to_js : t -> Ojs.t =
          fun (x22 : perf_hooks_PerformanceNodeTiming) ->
            perf_hooks_PerformanceNodeTiming_to_js x22
        let (get_bootstrap_complete : t -> int) =
          fun (x24 : t) ->
            Ojs.int_of_js
              (Ojs.get_prop_ascii (t_to_js x24) "bootstrapComplete")
        let (get_environment : t -> int) =
          fun (x25 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x25) "environment")
        let (get_idle_time : t -> int) =
          fun (x26 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x26) "idleTime")
        let (get_loop_exit : t -> int) =
          fun (x27 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x27) "loopExit")
        let (get_loop_start : t -> int) =
          fun (x28 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x28) "loopStart")
        let (get_v8Start : t -> int) =
          fun (x29 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x29) "v8Start")
        let (cast : t -> PerformanceEntry.t) =
          fun (x30 : t) -> PerformanceEntry.t_of_js (t_to_js x30)
      end
    module EventLoopUtilization =
      struct
        type t = perf_hooks_EventLoopUtilization
        let rec t_of_js : Ojs.t -> t =
          fun (x32 : Ojs.t) -> perf_hooks_EventLoopUtilization_of_js x32
        and t_to_js : t -> Ojs.t =
          fun (x31 : perf_hooks_EventLoopUtilization) ->
            perf_hooks_EventLoopUtilization_to_js x31
        let (get_idle : t -> int) =
          fun (x33 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x33) "idle")
        let (set_idle : t -> int -> unit) =
          fun (x34 : t) ->
            fun (x35 : int) ->
              Ojs.set_prop_ascii (t_to_js x34) "idle" (Ojs.int_to_js x35)
        let (get_active : t -> int) =
          fun (x36 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x36) "active")
        let (set_active : t -> int -> unit) =
          fun (x37 : t) ->
            fun (x38 : int) ->
              Ojs.set_prop_ascii (t_to_js x37) "active" (Ojs.int_to_js x38)
        let (get_utilization : t -> int) =
          fun (x39 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x39) "utilization")
        let (set_utilization : t -> int -> unit) =
          fun (x40 : t) ->
            fun (x41 : int) ->
              Ojs.set_prop_ascii (t_to_js x40) "utilization"
                (Ojs.int_to_js x41)
      end
    module Performance =
      struct
        type t = perf_hooks_Performance
        let rec t_of_js : Ojs.t -> t =
          fun (x43 : Ojs.t) -> perf_hooks_Performance_of_js x43
        and t_to_js : t -> Ojs.t =
          fun (x42 : perf_hooks_Performance) ->
            perf_hooks_Performance_to_js x42
        let (clear_marks : t -> ?name:string -> unit -> unit) =
          fun (x47 : t) ->
            fun ?name:(x44 : string option) ->
              fun () ->
                ignore
                  (let x48 = t_to_js x47 in
                   Ojs.call (Ojs.get_prop_ascii x48 "clearMarks") "apply"
                     [|x48;((let x45 =
                               Ojs.new_obj
                                 (Ojs.get_prop_ascii Ojs.global "Array") 
                                 [||] in
                             (match x44 with
                              | Some x46 ->
                                  ignore
                                    (Ojs.call x45 "push"
                                       [|(Ojs.string_to_js x46)|])
                              | None -> ());
                             x45))|])
        let (mark : t -> ?name:string -> unit -> unit) =
          fun (x52 : t) ->
            fun ?name:(x49 : string option) ->
              fun () ->
                ignore
                  (let x53 = t_to_js x52 in
                   Ojs.call (Ojs.get_prop_ascii x53 "mark") "apply"
                     [|x53;((let x50 =
                               Ojs.new_obj
                                 (Ojs.get_prop_ascii Ojs.global "Array") 
                                 [||] in
                             (match x49 with
                              | Some x51 ->
                                  ignore
                                    (Ojs.call x50 "push"
                                       [|(Ojs.string_to_js x51)|])
                              | None -> ());
                             x50))|])
        let (measure :
          t -> name:string -> start_mark:string -> end_mark:string -> unit) =
          fun (x57 : t) ->
            fun ~name:(x54 : string) ->
              fun ~start_mark:(x55 : string) ->
                fun ~end_mark:(x56 : string) ->
                  ignore
                    (Ojs.call (t_to_js x57) "measure"
                       [|(Ojs.string_to_js x54);(Ojs.string_to_js x55);(
                         Ojs.string_to_js x56)|])
        let (get_node_timing : t -> PerformanceNodeTiming.t) =
          fun (x58 : t) ->
            PerformanceNodeTiming.t_of_js
              (Ojs.get_prop_ascii (t_to_js x58) "nodeTiming")
        let (now : t -> int) =
          fun (x59 : t) -> Ojs.int_of_js (Ojs.call (t_to_js x59) "now" [||])
        let (get_time_origin : t -> int) =
          fun (x60 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x60) "timeOrigin")
        let (timerify : t -> fn:'T -> 'T) =
          fun (x62 : t) ->
            fun ~fn:(x61 : 'T) ->
              Obj.magic
                (Ojs.call (t_to_js x62) "timerify" [|(Obj.magic x61)|])
        let (event_loop_utilization :
          t ->
            ?util1:EventLoopUtilization.t ->
              ?util2:EventLoopUtilization.t -> unit -> EventLoopUtilization.t)
          =
          fun (x68 : t) ->
            fun ?util1:(x63 : EventLoopUtilization.t option) ->
              fun ?util2:(x64 : EventLoopUtilization.t option) ->
                fun () ->
                  EventLoopUtilization.t_of_js
                    (let x69 = t_to_js x68 in
                     Ojs.call (Ojs.get_prop_ascii x69 "eventLoopUtilization")
                       "apply"
                       [|x69;((let x65 =
                                 Ojs.new_obj
                                   (Ojs.get_prop_ascii Ojs.global "Array")
                                   [||] in
                               (match x63 with
                                | Some x67 ->
                                    ignore
                                      (Ojs.call x65 "push"
                                         [|(EventLoopUtilization.t_to_js x67)|])
                                | None -> ());
                               (match x64 with
                                | Some x66 ->
                                    ignore
                                      (Ojs.call x65 "push"
                                         [|(EventLoopUtilization.t_to_js x66)|])
                                | None -> ());
                               x65))|])
      end
    module PerformanceObserverEntryList =
      struct
        type t = perf_hooks_PerformanceObserverEntryList
        let rec t_of_js : Ojs.t -> t =
          fun (x71 : Ojs.t) ->
            perf_hooks_PerformanceObserverEntryList_of_js x71
        and t_to_js : t -> Ojs.t =
          fun (x70 : perf_hooks_PerformanceObserverEntryList) ->
            perf_hooks_PerformanceObserverEntryList_to_js x70
        let (get_entries : t -> PerformanceEntry.t list) =
          fun (x72 : t) ->
            Ojs.list_of_js PerformanceEntry.t_of_js
              (Ojs.call (t_to_js x72) "getEntries" [||])
        let (get_entries_by_name :
          t ->
            name:string ->
              ?type_:EntryType.t -> unit -> PerformanceEntry.t list)
          =
          fun (x78 : t) ->
            fun ~name:(x74 : string) ->
              fun ?type_:(x75 : EntryType.t option) ->
                fun () ->
                  Ojs.list_of_js PerformanceEntry.t_of_js
                    (let x79 = t_to_js x78 in
                     Ojs.call (Ojs.get_prop_ascii x79 "getEntriesByName")
                       "apply"
                       [|x79;((let x76 =
                                 Ojs.new_obj
                                   (Ojs.get_prop_ascii Ojs.global "Array")
                                   [||] in
                               ignore
                                 (Ojs.call x76 "push"
                                    [|(Ojs.string_to_js x74)|]);
                               (match x75 with
                                | Some x77 ->
                                    ignore
                                      (Ojs.call x76 "push"
                                         [|(EntryType.t_to_js x77)|])
                                | None -> ());
                               x76))|])
        let (get_entries_by_type :
          t -> type_:EntryType.t -> PerformanceEntry.t list) =
          fun (x82 : t) ->
            fun ~type_:(x81 : EntryType.t) ->
              Ojs.list_of_js PerformanceEntry.t_of_js
                (Ojs.call (t_to_js x82) "getEntriesByType"
                   [|(EntryType.t_to_js x81)|])
      end
    module PerformanceObserverCallback =
      struct
        type t = perf_hooks_PerformanceObserverCallback
        let rec t_of_js : Ojs.t -> t =
          fun (x85 : Ojs.t) ->
            perf_hooks_PerformanceObserverCallback_of_js x85
        and t_to_js : t -> Ojs.t =
          fun (x84 : perf_hooks_PerformanceObserverCallback) ->
            perf_hooks_PerformanceObserverCallback_to_js x84
        let (apply :
          t ->
            list:PerformanceObserverEntryList.t ->
              observer:PerformanceObserver.t -> unit)
          =
          fun (x88 : t) ->
            fun ~list:(x86 : PerformanceObserverEntryList.t) ->
              fun ~observer:(x87 : PerformanceObserver.t) ->
                ignore
                  (Ojs.apply (t_to_js x88)
                     [|(PerformanceObserverEntryList.t_to_js x86);(PerformanceObserver.t_to_js
                                                                    x87)|])
      end
    module PerformanceObserver =
      struct
        type t = perf_hooks_PerformanceObserver
        let rec t_of_js : Ojs.t -> t =
          fun (x90 : Ojs.t) -> perf_hooks_PerformanceObserver_of_js x90
        and t_to_js : t -> Ojs.t =
          fun (x89 : perf_hooks_PerformanceObserver) ->
            perf_hooks_PerformanceObserver_to_js x89
        let (create : callback:PerformanceObserverCallback.t -> t) =
          fun ~callback:(x91 : PerformanceObserverCallback.t) ->
            t_of_js
              (Ojs.new_obj
                 (Ojs.get_prop_ascii Import.perf_hooks "PerformanceObserver")
                 [|(PerformanceObserverCallback.t_to_js x91)|])
        let (disconnect : t -> unit) =
          fun (x92 : t) -> ignore (Ojs.call (t_to_js x92) "disconnect" [||])
        let (observe : t -> options:AnonymousInterface0.t -> unit) =
          fun (x94 : t) ->
            fun ~options:(x93 : AnonymousInterface0.t) ->
              ignore
                (Ojs.call (t_to_js x94) "observe"
                   [|(AnonymousInterface0.t_to_js x93)|])
        let (cast : t -> Node_async_hooks.Async_hooks.AsyncResource.t) =
          fun (x95 : t) ->
            Node_async_hooks.Async_hooks.AsyncResource.t_of_js (t_to_js x95)
      end
    module Constants =
      struct
        let (n_ode_performance_gc_major : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_MAJOR")
        let (n_ode_performance_gc_minor : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_MINOR")
        let (n_ode_performance_gc_incremental : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_INCREMENTAL")
        let (n_ode_performance_gc_weakcb : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_WEAKCB")
        let (n_ode_performance_gc_flags_no : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_FLAGS_NO")
        let (n_ode_performance_gc_flags_construct_retained : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_FLAGS_CONSTRUCT_RETAINED")
        let (n_ode_performance_gc_flags_forced : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_FLAGS_FORCED")
        let (n_ode_performance_gc_flags_synchronous_phantom_processing : 
          int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_FLAGS_SYNCHRONOUS_PHANTOM_PROCESSING")
        let (n_ode_performance_gc_flags_all_available_garbage : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_FLAGS_ALL_AVAILABLE_GARBAGE")
        let (n_ode_performance_gc_flags_all_external_memory : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_FLAGS_ALL_EXTERNAL_MEMORY")
        let (n_ode_performance_gc_flags_schedule_idle : int) =
          Ojs.int_of_js
            (Ojs.get_prop_ascii
               (Ojs.get_prop_ascii Import.perf_hooks "constants")
               "NODE_PERFORMANCE_GC_FLAGS_SCHEDULE_IDLE")
      end
    let (performance : perf_hooks_Performance) =
      perf_hooks_Performance_of_js
        (Ojs.get_prop_ascii Import.perf_hooks "performance")
    module EventLoopMonitorOptions =
      struct
        type t = perf_hooks_EventLoopMonitorOptions
        let rec t_of_js : Ojs.t -> t =
          fun (x97 : Ojs.t) -> perf_hooks_EventLoopMonitorOptions_of_js x97
        and t_to_js : t -> Ojs.t =
          fun (x96 : perf_hooks_EventLoopMonitorOptions) ->
            perf_hooks_EventLoopMonitorOptions_to_js x96
        let (get_resolution : t -> int) =
          fun (x98 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x98) "resolution")
        let (set_resolution : t -> int -> unit) =
          fun (x99 : t) ->
            fun (x100 : int) ->
              Ojs.set_prop_ascii (t_to_js x99) "resolution"
                (Ojs.int_to_js x100)
      end
    module EventLoopDelayMonitor =
      struct
        type t = perf_hooks_EventLoopDelayMonitor
        let rec t_of_js : Ojs.t -> t =
          fun (x102 : Ojs.t) -> perf_hooks_EventLoopDelayMonitor_of_js x102
        and t_to_js : t -> Ojs.t =
          fun (x101 : perf_hooks_EventLoopDelayMonitor) ->
            perf_hooks_EventLoopDelayMonitor_to_js x101
        let (enable : t -> bool) =
          fun (x103 : t) ->
            Ojs.bool_of_js (Ojs.call (t_to_js x103) "enable" [||])
        let (disable : t -> bool) =
          fun (x104 : t) ->
            Ojs.bool_of_js (Ojs.call (t_to_js x104) "disable" [||])
        let (reset : t -> unit) =
          fun (x105 : t) -> ignore (Ojs.call (t_to_js x105) "reset" [||])
        let (percentile : t -> percentile:int -> int) =
          fun (x107 : t) ->
            fun ~percentile:(x106 : int) ->
              Ojs.int_of_js
                (Ojs.call (t_to_js x107) "percentile"
                   [|(Ojs.int_to_js x106)|])
        let (get_percentiles : t -> (int, int) Map.t) =
          fun (x108 : t) ->
            Map.t_of_js Ojs.int_of_js Ojs.int_of_js
              (Ojs.get_prop_ascii (t_to_js x108) "percentiles")
        let (get_exceeds : t -> int) =
          fun (x111 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x111) "exceeds")
        let (get_min : t -> int) =
          fun (x112 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x112) "min")
        let (get_max : t -> int) =
          fun (x113 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x113) "max")
        let (get_mean : t -> int) =
          fun (x114 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x114) "mean")
        let (get_stddev : t -> int) =
          fun (x115 : t) ->
            Ojs.int_of_js (Ojs.get_prop_ascii (t_to_js x115) "stddev")
      end
    let (monitor_event_loop_delay :
      ?options:EventLoopMonitorOptions.t -> unit -> EventLoopDelayMonitor.t)
      =
      fun ?options:(x116 : EventLoopMonitorOptions.t option) ->
        fun () ->
          EventLoopDelayMonitor.t_of_js
            (let x119 = Import.perf_hooks in
             Ojs.call (Ojs.get_prop_ascii x119 "monitorEventLoopDelay")
               "apply"
               [|x119;((let x117 =
                          Ojs.new_obj (Ojs.get_prop_ascii Ojs.global "Array")
                            [||] in
                        (match x116 with
                         | Some x118 ->
                             ignore
                               (Ojs.call x117 "push"
                                  [|(EventLoopMonitorOptions.t_to_js x118)|])
                         | None -> ());
                        x117))|])
  end
